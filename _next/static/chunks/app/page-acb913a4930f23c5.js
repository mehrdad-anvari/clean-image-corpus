(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1006:(e,t,a)=>{"use strict";a.d(t,{$L:()=>f,Ay:()=>k,GI:()=>d,Ih:()=>i,K9:()=>c,LT:()=>b,Q6:()=>l,QH:()=>s,So:()=>h,To:()=>y,Wv:()=>x,Zv:()=>g,_h:()=>n,h$:()=>p,k5:()=>u,oc:()=>w,tk:()=>m,y5:()=>r});let o=(0,a(1990).Z0)({name:"annotationSettings",initialState:{pose:{0:{name:"default",color:[255,255,255],keypoints:{},skeleton:[]}},bbox:{0:{name:"default",color:[255,255,255]}},keypoint:{0:{name:"default",color:[255,255,255]}},polygon:{0:{name:"default",color:[255,255,255]}},line:{0:{name:"default",color:[255,255,255]}},obb:{0:{name:"default",color:[255,255,255]}},rectMinEdgeSize:.02},reducers:{addPoseClass:(e,t)=>{e.pose[t.payload.id]=t.payload.pose},addKeypointToPose:(e,t)=>{e.pose[t.payload.poseId].keypoints[t.payload.keypointId]=t.payload.keypoint},addEdgeToPose:(e,t)=>{e.pose[t.payload.poseId].skeleton.push([t.payload.from,t.payload.to])},addRectClass:(e,t)=>{e.bbox[t.payload.id]=t.payload.attrs},addPointClass:(e,t)=>{e.keypoint[t.payload.id]=t.payload.attrs},addPolygonClass:(e,t)=>{e.polygon[t.payload.id]=t.payload.attrs},addLineClass:(e,t)=>{e.line[t.payload.id]=t.payload.attrs},addObbClass:(e,t)=>{e.obb[t.payload.id]=t.payload.attrs},deletePoseClass:(e,t)=>{delete e.pose[t.payload]},deletePoseKeypointClass:(e,t)=>{delete e.pose[t.payload.poseId].keypoints[t.payload.keypointId]},deletePoseEdge:(e,t)=>{e.pose[t.payload.poseId].skeleton[t.payload.edgeIndex]&&e.pose[t.payload.poseId].skeleton.splice(t.payload.edgeIndex,1)},deleteRectClass:(e,t)=>{delete e.bbox[t.payload]},deletePointClass:(e,t)=>{delete e.keypoint[t.payload]},deletePolygonClass:(e,t)=>{delete e.polygon[t.payload]},deleteLineClass:(e,t)=>{delete e.line[t.payload]},deleteObbClass:(e,t)=>{delete e.obb[t.payload]},setSettings:(e,t)=>({...e,...t.payload})}}),{addRectClass:l,deleteRectClass:s,addPolygonClass:n,deletePolygonClass:d,addPointClass:r,deletePointClass:i,addLineClass:c,addKeypointToPose:p,addPoseClass:y,deleteLineClass:u,addObbClass:g,deleteObbClass:b,deletePoseClass:f,deletePoseKeypointClass:h,setSettings:w,addEdgeToPose:m,deletePoseEdge:x}=o.actions,k=o.reducer},3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var o=a(5155),l=a(6874),s=a.n(l),n=a(4383),d=a(5373),r=a(4065),i=a(9007),c=a(1006);function p(){let{setRootDirHandle:e,setImagesDirHandle:t,setAnnotationsDirHandle:a,setDb:l,setIsReady:p,isReady:y}=(0,d.B)(),u=(0,i.j)();async function g(){try{await (0,n.lN)(),console.log("Database removed successfully.")}catch(e){console.log("Error in removing database",e)}try{let o=await window.showDirectoryPicker();if(e(o),null==o)return;let s=await o.getDirectoryHandle("images",{create:!0});t(s);let d=await o.getDirectoryHandle("annotations",{create:!0});a(d);let i=await (0,n.ze)(o);i&&(l(i),await (0,n.jo)(s,i),await (0,n.wZ)(i,o));let y=await (0,r.M)(o);y&&(console.log("settings:",y),u((0,c.oc)(y))),p(!0),console.log("Project folder set successfully.")}catch(e){console.error("Failed to read folder",e)}}let b=(e,t)=>y?(0,o.jsx)(s(),{href:e,children:(0,o.jsx)("div",{className:"w-52 h-52 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 hover:border-neutral-500 text-white flex items-center justify-center rounded-xl text-lg font-medium shadow-md transition-all duration-200 cursor-pointer",children:t})}):(0,o.jsx)("div",{className:"w-52 h-52 bg-neutral-800 border border-neutral-700 text-gray-500 flex items-center justify-center rounded-xl text-lg font-medium cursor-pointer",title:"Set project folder first",children:t});return(0,o.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-neutral-900 text-white",children:(0,o.jsxs)("div",{className:"flex gap-10",children:[(0,o.jsx)("button",{onClick:g,className:"w-52 h-52 bg-neutral-800 hover:bg-neutral-700 border border-neutral-700 hover:border-neutral-500 text-white flex items-center justify-center rounded-xl text-lg font-medium shadow-md transition-all duration-200 cursor-pointer",children:"Project Folder"}),b("/browse","Browse Dataset"),b("/annotate","Start Annotating")]})})}},4065:(e,t,a)=>{"use strict";async function o(e,t){let a=await e.getFileHandle("settings.json",{create:!0}),o=await a.createWritable();await o.write(JSON.stringify(t,null,2)),await o.close(),console.log("Saved ".concat(t," to settings.json file."))}async function l(e){try{let t=await e.getFileHandle("settings.json",{create:!1}),a=await t.getFile(),o=await a.text();return JSON.parse(o)}catch(e){return console.log("Error in loading the settings.json",e),null}}a.d(t,{D:()=>o,M:()=>l})},8807:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))},9007:(e,t,a)=>{"use strict";a.d(t,{G:()=>s,j:()=>l});var o=a(4540);let l=o.wA.withTypes(),s=o.d4.withTypes()}},e=>{var t=t=>e(e.s=t);e.O(0,[635,874,299,441,684,358],()=>t(8807)),_N_E=e.O()}]);