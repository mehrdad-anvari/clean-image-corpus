(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{1475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(5155),l=a(2115),r=a(4383),n=a(6268),c=a(1032),o=a(5373);function d(){let{db:e,imagesDirHandle:t}=(0,o.B)(),[a,d]=(0,l.useState)([]),[i,u]=(0,l.useState)(0),[h,x]=(0,l.useState)(0),[m,p]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async function(){if(!e||!t)return;let a=await (0,r.AK)(e);u(null!=a?a:0)})()},[e,t]),(0,l.useEffect)(()=>{(async function(){if(!e||!t)return;let a=await (0,r.SR)(e,10*h,10);d(null!=a?a:[])})()},[e,t,h]);let g=Math.ceil(i/10),b=(0,l.useMemo)(()=>[{accessorKey:"name",header:"File Name"},{accessorKey:"width",header:"Width"},{accessorKey:"height",header:"Height"},{accessorKey:"format",header:"Format"},{accessorKey:"createdAt",header:"Created At",cell:e=>new Date(e.getValue()).toLocaleString()},{accessorKey:"updatedAt",header:"Updated At",cell:e=>new Date(e.getValue()).toLocaleString()},{accessorKey:"perceptualHash",header:"Hash"}],[]),f=(0,n.N4)({data:a,columns:b,state:{sorting:m},onSortingChange:p,getCoreRowModel:(0,c.HT)(),getSortedRowModel:(0,c.h5)()});return e&&t?(0,s.jsxs)("div",{className:"min-h-screen bg-neutral-900 text-white px-8 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold mb-8",children:"\uD83D\uDCC1 Browse Dataset"}),(0,s.jsx)("div",{className:"overflow-auto rounded-lg border border-neutral-700",children:(0,s.jsxs)("table",{className:"min-w-full table-auto text-left text-sm",children:[(0,s.jsx)("thead",{className:"bg-neutral-800 text-neutral-300",children:f.getHeaderGroups().map(e=>(0,s.jsx)("tr",{children:e.headers.map(e=>{var t;return(0,s.jsxs)("th",{className:"px-4 py-3 cursor-pointer select-none",onClick:e.column.getToggleSortingHandler(),children:[(0,n.Kv)(e.column.columnDef.header,e.getContext()),null!==(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])&&void 0!==t?t:null]},e.id)})},e.id))}),(0,s.jsx)("tbody",{children:f.getRowModel().rows.length>0?f.getRowModel().rows.map(e=>(0,s.jsx)("tr",{className:"border-t border-neutral-800 hover:bg-neutral-800",children:e.getVisibleCells().map(e=>(0,s.jsx)("td",{className:"px-4 py-3",children:(0,n.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:b.length,className:"text-center py-4 text-neutral-500",children:"No images found."})})})]})}),(0,s.jsxs)("div",{className:"mt-4 flex justify-center space-x-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 bg-neutral-700 rounded disabled:opacity-50",disabled:0===h,onClick:()=>x(e=>Math.max(e-1,0)),children:"Previous"}),(0,s.jsxs)("span",{className:"px-4 py-2",children:["Page ",h+1," of ",g||1]}),(0,s.jsx)("button",{className:"px-4 py-2 bg-neutral-700 rounded disabled:opacity-50",disabled:h+1>=g,onClick:()=>x(e=>e+1),children:"Next"})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-neutral-900 text-white px-8 py-12",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold mb-8",children:"\uD83D\uDCC1 Browse Dataset"}),(0,s.jsx)("p",{className:"text-neutral-400",children:"Please open or create a project first."})]})}},4432:(e,t,a)=>{Promise.resolve().then(a.bind(a,1475))}},e=>{var t=t=>e(e.s=t);e.O(0,[268,299,441,684,358],()=>t(4432)),_N_E=e.O()}]);